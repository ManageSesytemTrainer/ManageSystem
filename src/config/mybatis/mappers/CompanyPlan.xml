<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC   
    "-//mybatis.org//DTD Mapper 3.0//EN"  
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.MS.dao.CompanyPlanMapper">
	<insert id="addCompanyPlan" parameterType="cn.MS.bean.CompanyPlan">
		insert into
		company_plan
		(plan_name,plan_date_start,plan_data_end,design_date,designer,web_type,season,total_times,person_collettions,remark,user_id,user_department_id,user_role_id)
		values
		(#{planName},#{planDateStart},#{planDateEnd},#{designDate},#{designer},#{webType},#{season},#{personTimes},#{totalTimes},#{personCollections},#{remark},#{user.id},#{department.id},#{role.id})
	</insert>
	<select id="select" parameterType="cn.MS.bean.CompanyPlan">
		select * from company_plan
		<where>
			<if test="#{id}!=null">id=#{id}</if>
			and
			<if test="#{planName}!=null">
				planName like '%'+#{planName}+'%'
			</if>
			and
			<if test="#{designer}!=null">designer like '%'+#{designer}+'%'</if>
			and
			<if test="#{user.id}!=null">user_id=#{user.id}</if>
		</where>
	</select>
	<!-- <update id="update">
		update company_plan set plan_name=#{planName},plan_date_start=#{planDateStart},plan_date_end=#{planDateEnd},design_date=#{designDate},designer=#{designer},web_type=#{webType},season=#{season},person_times=#{personTimes},total_times=#{totalTimes},person_collections=#{personCollections},remark=#{remark},user_id=#{user.id},user_department_id=#{department.id},user_role_id=#{role.id} where id=#{id}
	</update>
	<delete id="delete">
	    delete from company_plan where id=#{id}
	</delete> -->
</mapper>